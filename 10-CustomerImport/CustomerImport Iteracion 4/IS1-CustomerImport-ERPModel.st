Object subclass: #ERPSystem	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'IS1-CustomerImport-ERPModel'!!ERPSystem methodsFor: 'system live cycle' stamp: 'julianpalladino 7/2/2018 02:56'!shutdown	self subclassResponsibility ! !!ERPSystem methodsFor: 'system live cycle' stamp: 'julianpalladino 7/2/2018 02:56'!start	self subclassResponsibility ! !!ERPSystem methodsFor: 'accessing' stamp: 'julianpalladino 7/2/2018 02:56'!supplierSystem	self subclassResponsibility ! !!ERPSystem methodsFor: 'accessing' stamp: 'julianpalladino 7/2/2018 02:56'!customerSystem	self subclassResponsibility ! !!ERPSystem methodsFor: 'transaction' stamp: 'julianpalladino 7/2/2018 02:56'!commit	self subclassResponsibility ! !!ERPSystem methodsFor: 'transaction' stamp: 'julianpalladino 7/2/2018 02:56'!beginTransaction	self subclassResponsibility ! !ERPSystem subclass: #PersistentERPSystem	instanceVariableNames: 'session customerSystem supplierSystem'	classVariableNames: ''	poolDictionaries: ''	category: 'IS1-CustomerImport-ERPModel'!!PersistentERPSystem methodsFor: 'mapping' stamp: 'julianpalladino 7/2/2018 03:47'!supplierMapping	^ ClassMapping		withDefaultTableNameFor: Supplier		mappingAll:			(Array				with: (EmbededMapping withDefaultFieldNameFor: #name)				with: (EmbededMapping withDefaultFieldNameFor: #identificationType)				with: (EmbededMapping withDefaultFieldNameFor: #identificationNumber)				with: (OneToManyMapping withDefaultFieldNameFor: #customers ofType: Customer)				with: (OneToManyMapping withDefaultFieldNameFor: #addresses ofType: Address))! !!PersistentERPSystem methodsFor: 'mapping' stamp: 'SebastianSicardi 7/1/2018 17:11'!addressMapping	^ ClassMapping		withDefaultTableNameFor: Address		mappingAll:			(Array				with: (EmbededMapping withDefaultFieldNameFor: #streetName)				with: (EmbededMapping withDefaultFieldNameFor: #streetNumber)				with: (EmbededMapping withDefaultFieldNameFor: #town)				with: (EmbededMapping withDefaultFieldNameFor: #zipCode)				with: (EmbededMapping withDefaultFieldNameFor: #province))! !!PersistentERPSystem methodsFor: 'mapping' stamp: 'SebastianSicardi 7/1/2018 17:11'!customerMapping	^ ClassMapping		withDefaultTableNameFor: Customer		mappingAll:			(Array				with: (EmbededMapping withDefaultFieldNameFor: #firstName)				with: (EmbededMapping withDefaultFieldNameFor: #lastName)				with: (EmbededMapping withDefaultFieldNameFor: #identificationType)				with: (EmbededMapping withDefaultFieldNameFor: #identificationNumber)				with: (OneToManyMapping withDefaultFieldNameFor: #addresses ofType: Address))! !!PersistentERPSystem methodsFor: 'system live cycle' stamp: 'SebastianSicardi 7/1/2018 17:11'!shutdown	session shutdown! !!PersistentERPSystem methodsFor: 'system live cycle' stamp: 'SebastianSicardi 7/1/2018 17:11'!start	session start! !!PersistentERPSystem methodsFor: 'transaction' stamp: 'SebastianSicardi 7/1/2018 17:11'!commit	session commit! !!PersistentERPSystem methodsFor: 'transaction' stamp: 'SebastianSicardi 7/1/2018 17:11'!beginTransaction	session beginTransaction! !!PersistentERPSystem methodsFor: 'initialization' stamp: 'julianpalladino 7/2/2018 03:33'!initialize	super initialize.	self initializeSession. 	customerSystem := PersistentCustomerSystem new initializeWithERPSystem: self.	supplierSystem := PersistentSupplierSystem  new initializeWithERPSystem: self.! !!PersistentERPSystem methodsFor: 'initialization' stamp: 'julianpalladino 7/2/2018 03:49'!initializeSession	session := DataBaseSession		for: (Array with: self addressMapping with: self customerMapping with: self supplierMapping)! !!PersistentERPSystem methodsFor: 'accessing' stamp: 'julianpalladino 7/2/2018 03:25'!supplierSystem	^supplierSystem! !!PersistentERPSystem methodsFor: 'accessing' stamp: 'julianpalladino 7/2/2018 03:43'!session	^ session! !!PersistentERPSystem methodsFor: 'accessing' stamp: 'julianpalladino 7/2/2018 03:25'!customerSystem	^customerSystem! !ERPSystem subclass: #TransientERPSystem	instanceVariableNames: 'customerSystem supplierSystem'	classVariableNames: ''	poolDictionaries: ''	category: 'IS1-CustomerImport-ERPModel'!!TransientERPSystem methodsFor: 'accessing' stamp: 'SebastianSicardi 7/1/2018 13:04'!supplierSystem	^supplierSystem ! !!TransientERPSystem methodsFor: 'accessing' stamp: 'SebastianSicardi 7/1/2018 13:04'!customerSystem	^ customerSystem.! !!TransientERPSystem methodsFor: 'transaction' stamp: 'SebastianSicardi 7/1/2018 12:49'!commit! !!TransientERPSystem methodsFor: 'transaction' stamp: 'SebastianSicardi 7/1/2018 12:50'!beginTransaction	! !!TransientERPSystem methodsFor: 'system live cycle' stamp: 'SebastianSicardi 7/1/2018 12:50'!shutdown	! !!TransientERPSystem methodsFor: 'system live cycle' stamp: 'julianpalladino 7/2/2018 02:54'!start! !!TransientERPSystem methodsFor: 'initialization' stamp: 'julianpalladino 7/2/2018 02:54'!initialize	customerSystem := TransientCustomerSystem new.	supplierSystem := TransientSupplierSystem  new.! !